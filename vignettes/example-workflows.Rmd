---
title: "Example Workflows"
author: "Mark Edmondson"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Example Workflows}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

> See all documentation on the [googleComputeEngineR website](https://cloudyr.github.io/googleComputeEngineR/)

Follows are some R scripts for common workflows.  They assume you have previously signed up and setup a Google project and authentication.

## An RStudio Server for your team

```r
library(googleComputeEngineR)

## setting up a 13GB RAM instance 
vm <- gce_vm(template = "rstudio-hadleyverse",
             name = "rstudio-team",
             username = "mark", password = "mark1234",
             predefined_type = "n1-highmem-2")

## wait a bit, login at the IP it gives you

## add users
gce_rstudio_adduser(vm, username = "bill", password = "flowerpot")

## install packages by logging into RStudio and installing via UI
## use the Terminal in RStudio if required to install dependencies
## or use docker_cmd

## example install crontab on instance
docker_cmd(vm, "exec", args = c("rstudio", "sudo apt-get crontab"))

## once setup, save the RStudio container for quick start in another instance
gce_save_container(vm, 
                   container_name = "my_rstudio",
                   image_name = "rstudio")

## stop the VM when not in use to save bills
gce_vm_stop(vm)

## start up another VM with different configuration from your saved docker container

## start a 50GB RAM instance
vm2 <- gce_vm(name = "rstudio-big",
              predefined_type = "n1-highmem-8",
              image_project = "google-containers",
              image_family = "gci-stable")

## wait for it to launch

## load and run the container, mapping RStudio port of 8787 to 80
gce_load_container(vm2, "my_rstudio", "-p 80:8787")

## make sure to stop this one, it will be more expensive
gce_vm_stop(vm2)

```

## A remote R cluster to run big R programs


## An R server to run scheduled scripts upon



## Deploying a Shiny app 


## Setting up an OpenCPU server with your custom packages

